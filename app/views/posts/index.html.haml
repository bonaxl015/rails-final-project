.news-feed-body
  .container
    .row
      -# All Posts
      .col-8
        .post-form
          = render "post_form"
        - if @posts.empty?
          .post-card
            .post-text
              .no-post-text No posts to show
        - else
          - @posts.each_with_index do |post, index|
            .post-card
              .post-text
                .d-flex.justify-content-between
                  .username-bold= link_to post.user.username, profile_path(post.user.username)
                  .post-edit-delete
                    - if post.user.username == current_user.username
                      = link_to "Edit", edit_post_path(post), class: "text-space"
                      = link_to "Delete", post, method: :delete, class: "text-space"
                .distance-date= distance_of_time_posted_in_words(post.created_at)
                .caption= post.caption
              - if post.image.present?
                = image_tag post.image.url, class: "img img-fluid"

              -# Like Button
              .row.container-margin-top
                .col-6
                  - if liker(post)
                    = button_to 'Unlike', post_like_path(post, liker(post)), method: :delete, class: "btn btn-maroon btn-wide btn-like-comment"
                  - else
                    = button_to 'Like', post_likes_path(post), method: :post, class: "btn btn-plain btn-wide btn-like-comment"
                .col-6
                  .btn.btn-plain.btn-wide.btn-like-comment.btn-comment Comment

              -# Comment Section
              .comment-box
                .d-flex.justify-content-between
                  - unless post.likes.count == 0
                    .post-likes(type="button" data-bs-toggle="modal" data-bs-target="#likers-#{post.created_at.strftime("%M%L")}-modal")= "#{pluralize(post.likes.count, "like")}"
                    = render "layouts/likers_modal", post: post, index: index
                  .comment-toggle View Comments
                .comment-display.hidden
                  = render "posts/comments", post: post
              .comment-form
                = render "comments/comment_form", post: post

      -# Sidebar
      .col-4
        -# Events Display
        .event-items
          .event-padding
            = link_to "Show All", events_path(tab: "all_events"), class: "float-end"
            .event-title Events
            = render "layouts/side_bar_events"
        -# Latest News Display
        .news-items.news-padding
          .d-flex.justify-content-between
            .news-header Latest News
            = link_to "See All", space_news_index_path
          #news-content